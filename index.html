<!DOCTYPE html>
<html>
<head>
<title>Multiple M3U8 Player</title>
<style>
/* ... your styles ... */
</style>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body>

<select id="playlistSelect"></select> <video id="videoPlayer" controls width="640" height="360"></video>

<script>
const videoPlayer = document.getElementById('videoPlayer');
const playlistSelect = document.getElementById('playlistSelect');
let hls;

const m3u8Urls = [
    { name: "RTV", url: "https://streamingengine.rtvplus.tv/rtvpluslive/rtvpluslive.stream/chunklist_w2015195144.m3u8", group: "Cricket 🏏", logo: "" },
    { name: "RTV HD", url: "https://streamingengine.rtvplus.tv/rtvpluslive/rtvpluslive.stream/playlist.m3u8", group: "BANGLADESH", logo: "https://images.toffeelive.com/images/program/338/logo/240x240/mobile_logo_401499001655891091.png" },
    { name: "BANGLA VISION HD", url: "http://tv.cloudcdn.me:80/live.ts?channelId=84&uid=3788&deviceMac=00:1A:79:6D:8A:C6", group: "BANGLADESH", logo: "https://images.toffeelive.com/images/program/337/logo/240x240/mobile_logo_519481001656610377.png" },
    { name: "DESH TV", url: "http://tv.cloudcdn.me:80/live.ts?channelId=93&uid=3788&deviceMac=00:1A:79:6D:8A:C6", group: "BANGLADESH", logo: "https://images.toffeelive.com/images/program/39/logo/240x240/mobile_logo_569553001668421527.png" },
    { name: "CHANNEL 9 HD", url: "http://tv.cloudcdn.me:80/live.ts?channelId=88&uid=10016&deviceMac=00:1A:79:20:6F:F3", group: "BANGLADESH", logo: "https://i.ibb.co/dBbTPtQ/20240826-230616.png" },

    // ... (The rest of the LONG array - I've added a few more entries below to show the pattern.  YOU MUST ADD ALL THE REMAINING CHANNELS) ...

    { name: "SATV HD", url: "http://tv.cloudcdn.me:80/live.ts?channelId=114&uid=3960&deviceMac=00:1A:79:09:AC:16", group: "BANGLADESH", logo: "https://i.ibb.co/dBbTPtQ/20240826-230616.png"},
    { name: "DEEPTO TV HD", url: "https://byphdgllyk.gpcdn.net/hls/DeeptoTV/index.m3u8", group: "BANGLADESH", logo: "https://i.ibb.co/kqF2kdy/20240826-230650.png"},
    { name: "NAGORIK TV", url: "http://starshare.live:8080/live/Leroy123/Leroy123/3802.ts", group: "BANGLADESH", logo: "https://images.toffeelive.com/images/program/365/logo/240x240/mobile_logo_731536001673438371.png"},

    // ... Keep adding all the channel entries in this format, one object per channel ...

    { name: "FOX SPORTS 3 (VN)", url: "http://xlpore-samsungus.amagi.tv/playlist.m3u8", group: "", logo: "" } // Last entry
];


function loadPlaylist(m3u8Url) {
    if (hls) {
        hls.destroy();
    }

    if (Hls.isSupported()) {
        hls = new Hls();
        hls.loadSource(m3u8Url);
        hls.attachMedia(videoPlayer);
        hls.on(Hls.Events.MANIFEST_PARSED, () => videoPlayer.play());

        hls.on(Hls.Events.ERROR, (event, data) => {
            if (data.fatal) {
                console.error('HLS.js error:', data);
                // Handle fatal errors (e.g., display an error message)
                alert("Error loading playlist. Please try again later."); // Example alert
            }
        });


    } else if (videoPlayer.canPlayType('application/vnd.apple.mpegurl')) {
        videoPlayer.src = m3u8Url;
        videoPlayer.addEventListener('loadedmetadata', () => videoPlayer.play());
    } else {
        console.error("HLS.js is not supported and browser cannot play m3u8 directly.");
        alert("HLS is not supported by your browser."); // Example alert
    }
}

// Populate the select element dynamically
m3u8Urls.forEach(item => {
    const option = document.createElement('option');
    option.value = item.url;
    option.text = item.name;
    playlistSelect.appendChild(option);
});

playlistSelect.addEventListener('change', () => {
    const selectedUrl = playlistSelect.value;
    loadPlaylist(selectedUrl);
});

// Initial playlist load
loadPlaylist(m3u8Urls[0].url); // Load the first playlist by default

</script>

</body>
</html>

<!DOCTYPE html>
<html>
<head>
<title>Multiple M3U8 Player</title>
<style>
/* ... your styles ... */
</style>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body>

<select id="playlistSelect">
    <option value="https://streamingengine.rtvplus.tv/rtvpluslive/rtvpluslive.stream/chunklist_w2015195144.m3u8">Playlist 1</option>
    <option value="https://streamingengine.rtvplus.tv/rtvpluslive/rtvpluslive.stream/playlist.m3u8">Playlist 2</option>
    <option value="http://tv.cloudcdn.me:80/live.ts?channelId=84&uid=3788&deviceMac=00:1A:79:6D:8A:C6">Playlist 3</option>
    <!-- Add more options for each playlist -->
</select>

<video id="videoPlayer" controls width="640" height="360"></video>

<script>
const videoPlayer = document.getElementById('videoPlayer');
const playlistSelect = document.getElementById('playlistSelect');
let hls; // Declare hls outside so it can be destroyed if needed.

function loadPlaylist(m3u8Url) {
    if (hls) {
        hls.destroy(); // Destroy the previous HLS instance
    }

    if (Hls.isSupported()) {
        hls = new Hls();
        hls.loadSource(m3u8Url);
        hls.attachMedia(videoPlayer);
        hls.on(Hls.Events.MANIFEST_PARSED, () => videoPlayer.play());
        // ... (Error handling as before)
    } else if (videoPlayer.canPlayType('application/vnd.apple.mpegurl')) {
        videoPlayer.src = m3u8Url;
        videoPlayer.addEventListener('loadedmetadata', () => videoPlayer.play());
    } else {
        // ... (Error handling for no HLS support)
    }
}

playlistSelect.addEventListener('change', () => {
    const selectedUrl = playlistSelect.value;
    loadPlaylist(selectedUrl);
});

// Initial playlist load (optional - loads the first one by default)
loadPlaylist(playlistSelect.value);


</script>
</body>
</html>
